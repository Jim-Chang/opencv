(()=>{"use strict";const e="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,t="undefined"!=typeof global&&global,s=e||t||r;function n(e){return"function"==typeof e}let o=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=e},get useDeprecatedSynchronousErrorHandling(){return o}};function c(e){setTimeout(()=>{throw e},0)}const u={closed:!0,next(e){},error(e){if(i.useDeprecatedSynchronousErrorHandling)throw e;c(e)},complete(){}},h=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))(),a=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,r)=>`${r+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let l=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let r;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:s,_unsubscribe:o,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof e)t.remove(this);else if(null!==t)for(let e=0;e<t.length;++e)t[e].remove(this);if(n(o)){s&&(this._unsubscribe=void 0);try{o.call(this)}catch(u){r=u instanceof a?b(u.errors):[u]}}if(h(i)){let e=-1,t=i.length;for(;++e<t;){const t=i[e];if(null!==(c=t)&&"object"==typeof c)try{t.unsubscribe()}catch(u){r=r||[],u instanceof a?r=r.concat(b(u.errors)):r.push(u)}}}var c;if(r)throw new a(r)}add(r){let t=r;if(!r)return e.EMPTY;switch(typeof r){case"function":t=new e(r);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof e)){const r=t;t=new e,t._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}let{_parentOrParents:s}=t;if(null===s)t._parentOrParents=this;else if(s instanceof e){if(s===this)return t;t._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return t;s.push(this)}const n=this._subscriptions;return null===n?this._subscriptions=[t]:n.push(t),t}remove(e){const r=this._subscriptions;if(r){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function b(e){return e.reduce((e,r)=>e.concat(r instanceof a?r.errors:r),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class d extends l{constructor(e,r,t){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u;break;case 1:if(!e){this.destination=u;break}if("object"==typeof e){e instanceof d?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,e,r,t)}}[p](){return this}static create(e,r,t){const s=new d(e,r,t);return s.syncErrorThrowable=!1,s}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class f extends d{constructor(e,r,t,s){let o;super(),this._parentSubscriber=e;let i=this;n(r)?o=r:r&&(o=r.next,t=r.error,s=r.complete,r!==u&&(i=Object.create(r),n(i.unsubscribe)&&this.add(i.unsubscribe.bind(i)),i.unsubscribe=this.unsubscribe.bind(this))),this._context=i,this._next=o,this._error=t,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:r}=this;i.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:r}=this,{useDeprecatedSynchronousErrorHandling:t}=i;if(this._error)t&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(r.syncErrorThrowable)t?(r.syncErrorValue=e,r.syncErrorThrown=!0):c(e),this.unsubscribe();else{if(this.unsubscribe(),t)throw e;c(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const r=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,r){try{e.call(this._context,r)}catch(t){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw t;c(t)}}__tryOrSetError(e,r,t){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,t)}catch(s){return i.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=s,e.syncErrorThrown=!0,!0):(c(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const y=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function w(e){return e}let _=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(r){const t=new e;return t.source=this,t.operator=r,t}subscribe(e,r,t){const{operator:s}=this,n=function(e,r,t){if(e){if(e instanceof d)return e;if(e[p])return e[p]()}return e||r||t?new d(e,r,t):new d(u)}(e,r,t);if(n.add(s?s.call(n,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),i.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n}_trySubscribe(e){try{return this._subscribe(e)}catch(r){i.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),function(e){for(;e;){const{closed:r,destination:t,isStopped:s}=e;if(r||s)return!1;e=t&&t instanceof d?t:null}return!0}(e)?e.error(r):console.warn(r)}}forEach(e,r){return new(r=m(r))((r,t)=>{let s;s=this.subscribe(r=>{try{e(r)}catch(n){t(n),s&&s.unsubscribe()}},t,r)})}_subscribe(e){const{source:r}=this;return r&&r.subscribe(e)}[y](){return this}pipe(...e){return 0===e.length?this:(0===(r=e).length?w:1===r.length?r[0]:function(e){return r.reduce((e,r)=>r(e),e)})(this);var r}toPromise(e){return new(e=m(e))((e,r)=>{let t;this.subscribe(e=>t=e,e=>r(e),()=>e(t))})}}return e.create=r=>new e(r),e})();function m(e){if(e||(e=i.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function E(e,r){return function(t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new S(e,r))}}class S{constructor(e,r){this.project=e,this.thisArg=r}call(e,r){return r.subscribe(new T(e,this.project,this.thisArg))}}class T extends d{constructor(e,r,t){super(e),this.project=r,this.count=0,this.thisArg=t||this}_next(e){let r;try{r=this.project.call(this.thisArg,e,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(r)}}function g(e,r=null){return new D({method:"GET",url:e,headers:r})}function x(e,r,t){return new D({method:"POST",url:e,body:r,headers:t})}function O(e,r){return new D({method:"DELETE",url:e,headers:r})}function H(e,r,t){return new D({method:"PUT",url:e,body:r,headers:t})}function q(e,r,t){return new D({method:"PATCH",url:e,body:r,headers:t})}const P=E((e,r)=>e.response);function j(e,r){return P(new D({method:"GET",url:e,responseType:"json",headers:r}))}let D=(()=>{class e extends _{constructor(e){super();const r={async:!0,createXHR:function(){return this.crossDomain?function(){if(s.XMLHttpRequest)return new s.XMLHttpRequest;if(s.XDomainRequest)return new s.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(s.XMLHttpRequest)return new s.XMLHttpRequest;{let r;try{const t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(let n=0;n<3;n++)try{if(r=t[n],new s.ActiveXObject(r))break}catch(e){}return new s.ActiveXObject(r)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)r.url=e;else for(const t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);this.request=r}_subscribe(e){return new R(e,this.request)}}return e.create=(()=>{const r=r=>new e(r);return r.get=g,r.post=x,r.delete=O,r.put=H,r.patch=q,r.getJSON=j,r})(),e})();class R extends d{constructor(e,r){super(e),this.request=r,this.done=!1;const t=r.headers=r.headers||{};r.crossDomain||this.getHeader(t,"X-Requested-With")||(t["X-Requested-With"]="XMLHttpRequest"),this.getHeader(t,"Content-Type")||s.FormData&&r.body instanceof s.FormData||void 0===r.body||(t["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,this.getHeader(r.headers,"Content-Type")),this.send()}next(e){this.done=!0;const{xhr:r,request:t,destination:s}=this;let n;try{n=new v(e,r,t)}catch(o){return s.error(o)}s.next(n)}send(){const{request:e,request:{user:r,method:t,url:s,async:n,password:o,headers:i,body:c}}=this;try{const u=this.xhr=e.createXHR();this.setupEvents(u,e),r?u.open(t,s,n,r,o):u.open(t,s,n),n&&(u.timeout=e.timeout,u.responseType=e.responseType),"withCredentials"in u&&(u.withCredentials=!!e.withCredentials),this.setHeaders(u,i),c?u.send(c):u.send()}catch(u){this.error(u)}}serializeBody(e,r){if(!e||"string"==typeof e)return e;if(s.FormData&&e instanceof s.FormData)return e;if(r){const e=r.indexOf(";");-1!==e&&(r=r.substring(0,e))}switch(r){case"application/x-www-form-urlencoded":return Object.keys(e).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`).join("&");case"application/json":return JSON.stringify(e);default:return e}}setHeaders(e,r){for(let t in r)r.hasOwnProperty(t)&&e.setRequestHeader(t,r[t])}getHeader(e,r){for(let t in e)if(t.toLowerCase()===r.toLowerCase())return e[t]}setupEvents(e,r){const t=r.progressSubscriber;function n(e){const{subscriber:r,progressSubscriber:t,request:s}=n;let o;t&&t.error(e);try{o=new M(this,s)}catch(i){o=i}r.error(o)}if(e.ontimeout=n,n.request=r,n.subscriber=this,n.progressSubscriber=t,e.upload&&"withCredentials"in e){if(t){let r;r=function(e){const{progressSubscriber:t}=r;t.next(e)},s.XDomainRequest?e.onprogress=r:e.upload.onprogress=r,r.progressSubscriber=t}let n;n=function(e){const{progressSubscriber:r,subscriber:t,request:s}=n;let o;r&&r.error(e);try{o=new X("ajax error",this,s)}catch(i){o=i}t.error(o)},e.onerror=n,n.request=r,n.subscriber=this,n.progressSubscriber=t}function o(e){}function i(e){const{subscriber:r,progressSubscriber:t,request:s}=i;if(4===this.readyState){let o=1223===this.status?204:this.status,i="text"===this.responseType?this.response||this.responseText:this.response;if(0===o&&(o=i?200:0),o<400)t&&t.complete(),r.next(e),r.complete();else{let i;t&&t.error(e);try{i=new X("ajax error "+o,this,s)}catch(n){i=n}r.error(i)}}}e.onreadystatechange=o,o.subscriber=this,o.progressSubscriber=t,o.request=r,e.onload=i,i.subscriber=this,i.progressSubscriber=t,i.request=r}unsubscribe(){const{done:e,xhr:r}=this;!e&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),super.unsubscribe()}}class v{constructor(e,r,t){this.originalEvent=e,this.xhr=r,this.request=t,this.status=r.status,this.responseType=r.responseType||t.responseType,this.response=C(this.responseType,r)}}const X=(()=>{function e(e,r,t){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=r,this.request=t,this.status=r.status,this.responseType=r.responseType||t.responseType,this.response=C(this.responseType,r),this}return e.prototype=Object.create(Error.prototype),e})();function C(e,r){switch(e){case"json":return function(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(r);case"xml":return r.responseXML;case"text":default:return"response"in r?r.response:r.responseText}}const M=function(e,r){return X.call(this,"ajax timeout",e,r),this.name="AjaxTimeoutError",this},A=(()=>D.create)();addEventListener("message",({data:e})=>{A({url:"/api/direction",method:"POST",headers:{"Content-Type":"application/json"},async:!0,timeout:2e3,body:e}).subscribe(e=>console.log(e))})})();